define("common:widget/map/map.js",function(o,t,n){function e(){try{if(!i)throw new Error("需要引入地图js");if(!a)throw new Error("需要引入SearchInfoWindow.js")}catch(o){console.log(o.message)}return!0}function r(o){return"string"==typeof o||o instanceof String?o:new i.Point(o.baidu_longitude,o.baidu_latitude)}var i=i||window.BMap,a=a||window.BMapLib,s=function(o){return this instanceof s?(e(),void(this._oBdMap=new i.Map(o))):new s(o)};s.point=r,s.prototype.fixedView=function(o,t){return o=o||"北京",t=parseInt(t),o=r(o),this._oBdMap.centerAndZoom(o,t),this},s.prototype.reset=function(){return this._oBdMap.reset(),this},s.prototype.autoView=function(o){var t=[];for(var n in o){var e=o[n];t.push(r(e))}return this._oBdMap.setViewport(t),this._oBdMap.enableScrollWheelZoom(),this},s.prototype.getMapOrigin=function(){return this._oBdMap},s.prototype.centerTo=function(o){return o=r(o),this._oBdMap.panTo(o),this},s.prototype.zoomTo=function(o){return o=parseInt(o)||15,this._oBdMap.zoomTo(o),this},s.prototype.addPin=function(o,t){var n=this._oBdMap,e=[];for(var a in o){var s=r(o[a]),p=new i.Marker(s);"function"==typeof t&&p.addEventListener("click",t),n.addOverlay(p),e.push(p)}return e},s.prototype.removePin=function(o){var t=this._oBdMap;o instanceof i.Marker&&(o=[o]);for(var n=0;n!=o.length;++n){var e=o[n];t.addOverlay(e)}return this},s.prototype.clearPin=function(){var o=this._oBdMap;return o.clearOverlays(),this},s.searchInfoWindow=function(o,t,n){return this instanceof s.searchInfoWindow?(e(),void(this._oSIW=new a.SearchInfoWindow(o,t,n))):new s.searchInfoWindow(o,t,n)},s.searchInfoWindow.prototype.open=function(o){return o=r(o),this._oSIW.open(o),this},s.searchInfoWindow.prototype.close=function(){return this._oSIW.close(),this},s.searchInfoWindow.prototype.onClickClose=function(o){return"function"!=typeof o?this:(this._oSIW.addEventListener("clickclose",o),this)},n.exports=s});