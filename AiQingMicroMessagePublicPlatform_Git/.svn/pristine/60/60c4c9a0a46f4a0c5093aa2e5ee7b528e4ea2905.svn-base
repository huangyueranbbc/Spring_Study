define("common:widget/ui/pager/pager.js",function(t,e,i){var n=n||window.$;n.extend({formatString:function(t,e){return e?t.replace(/#\{(.+?)\}/gi,function(t,i){var n=e[i];return"undefined"==typeof n?t:n}):t}});var a=function(t,e){this.$container=n("string"==typeof t?"#"+t:t),this._options={showIfTotalOne:!1,currentPage:1,totalPage:1,viewSize:10,tplUrl:"##{pageNum}",tplLabelNormal:"#{pageNum}",tplLabelCurrent:"#{pageNum}",labelFirst:"首页",labelPrev:'<div class="ico-pre"></div>',labelNext:'<div class="ico-next"></div>',labelLast:"最后页",islabelLastShow:!1,showPrevWhenDisabled:!1,showNextWhenDisabled:!1,autoDispose:!1},this._init(e)};a.prototype={_EXPANDO:"widget-ui-pager-"+ +new Date+"-"+Math.random(),_init:function(t){this._initOptions(t),this._options.autoDispose&&this.$container[0][this._EXPANDO]&&this.$container[0][this._EXPANDO].dispose(),this.$container[0][this._EXPANDO]=this,this._render(),this._bindEvent()},_initOptions:function(t){n.extend(!0,this._options,t)},_createLink:function(t,e,i,a,s){return'<a href="'+n.formatString(this._options.tplUrl,{pageNum:t})+'" data-pagenum="'+t+'" class="ui-pager-'+e+" "+(s?s:"")+'" mon="element='+a+'">'+i+"</a>"},_render:function(){var t=parseInt(this._options.currentPage,10),e=parseInt(this._options.totalPage,10),i=parseInt(this._options.viewSize,10);if(0>=e&&(e=1),1==e&&!this._options.showIfTotalOne)return void this.$container.html("");t>e&&(t=e),i>e&&(i=e);var a,s,r;r=parseInt((i+2)/2,10),a=r>=t?1:Math.min(t-r+1,e-i+1),s=Math.min(e,a+i-1);var o=[],l=this._options;o.push('<div class="ui-pager">'),t>1&&""!==l.labelFirst&&o.push(this._createLink(1,"first",l.labelFirst,"first")),""!==l.labelPrev&&(t>1?o.push(this._createLink(t-1,"prev",l.labelPrev,"back")):l.showPrevWhenDisabled&&o.push(this._createLink(t-1,"prev",l.labelPrev,"back","disabled")));for(var h=a;t>h;h++)o.push(this._createLink(h,"normal",n.formatString(l.tplLabelNormal,{pageNum:h}),h));for(o.push('<span class="ui-pager-current">'+n.formatString(l.tplLabelCurrent,{pageNum:h})+"</span>"),h++;s>=h;h++)o.push(this._createLink(h,"normal",n.formatString(l.tplLabelNormal,{pageNum:h}),h));e>t&&""!==l.labelLast&&l.islabelLastShow&&o.push(this._createLink(e,"last",l.labelLast,"last")),""!==l.labelNext&&(e>t?o.push(this._createLink(t+1,"next",l.labelNext,"next")):l.showNextWhenDisabled&&o.push(this._createLink(t+1,"next",l.labelNext,"next","disabled"))),o.push("</div>"),this.$container.html(o.join(""))},_pageChangeHandler:null,_bindEvent:function(){var t=this;this.$container.on("click","a",this._pageChangeHandler=function(){var e=n(this);if(e.hasClass("disabled"))return!1;var i=e.data("pagenum");return t._options.currentPage=i,t._render(),t.fire("pagechange",[i])})},on:function(t,e){return this["on"+t]=e,this},fire:function(t,e){var i=this["on"+t];return"function"==typeof i?i.apply(this,e):!0},dispose:function(){this.$container.html(""),this.$container[0][this._EXPANDO]=null,this._pageChangeHandler&&this.$container.off("click","a",this._pageChangeHandler),this.onpagechange=this._pageChangeHandler=this.$container=null}},i.exports=a});